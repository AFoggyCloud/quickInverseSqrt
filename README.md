This is just a straight rip of the Quake III quick inverse square root algorithm.

Lines 17, 18, and 20 have some funkiness to them. Fun bithacking and whatnot. If you have any questions, I would be more than happy to answer them.